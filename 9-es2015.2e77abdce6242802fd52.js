(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"9N29K":function(n,e,t){"use strict";t.r(e),t.d(e,"UserModule",(function(){return j}));var i=t("ofXK"),o=t("nF0/"),c=t("tyNb"),s=t("fXoL"),a=t("x4NB"),r=t("QVQ7"),l=t("KMGt"),d=t("qe6W"),f=t("ozpC"),g=t("a/YC"),b=t("3Pt+");let _=(()=>{class n{constructor(){}writeValue(n){this.model=n}registerOnChange(n){this.onChange=n}registerOnTouched(){}setDisabledState(n){}notifyValueChange(){this.onChange&&this.onChange(this.model)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Kb({token:n,factory:n.\u0275fac}),n})();function p(n,e){if(1&n&&(s.Rb(0),s.Tb(1,"p"),s.xc(2),s.Sb(),s.Qb()),2&n){const n=s.dc();s.Cb(2),s.yc(n.model||"-")}}function u(n,e){if(1&n){const n=s.Ub();s.Tb(0,"input",2),s.bc("ngModelChange",(function(e){return s.sc(n),s.dc().validation(e)}))("ngModelChange",(function(e){return s.sc(n),s.dc().value=e})),s.Sb()}if(2&n){const n=s.dc();s.jc("ngModel",n.value)}}function P(n,e){1&n&&(s.Tb(0,"span"),s.Pb(1,"em",3),s.Tb(2,"p",4),s.xc(3,"\u6b64\u6b04\u4f4d\u4e0d\u5f97\u70ba\u7a7a"),s.Sb(),s.Sb())}let C=(()=>{class n extends _{constructor(){super(),this.isEdit=!1,this.valid=!0}get value(){return this.model}set value(n){this.valid&&(this.model=n,this.notifyValueChange())}ngOnInit(){}ngOnChanges(n){!1===n.isEdit.currentValue&&(this.valid=!0)}validation(n){this.validator&&(this.valid=this.validator(n))}}var e;return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Ib({type:n,selectors:[["app-profile-field"]],inputs:{isEdit:"isEdit",validator:"validator"},features:[s.Bb([(e=n,{provide:b.f,useExisting:Object(s.U)(()=>e),multi:!0})]),s.zb,s.Ab],decls:3,vars:3,consts:[[4,"ngIf"],["type","text",3,"ngModel","ngModelChange",4,"ngIf"],["type","text",3,"ngModel","ngModelChange"],[1,"g5-font-rose-xs","icon-alert_2","mr-1"],[1,"g5-font-rose-xs"]],template:function(n,e){1&n&&(s.vc(0,p,3,1,"ng-container",0),s.vc(1,u,1,1,"input",1),s.vc(2,P,4,0,"span",0)),2&n&&(s.jc("ngIf",!e.isEdit),s.Cb(1),s.jc("ngIf",e.isEdit),s.Cb(1),s.jc("ngIf",!e.valid&&e.isEdit))},directives:[i.k,b.a,b.g,b.i],styles:["input[_ngcontent-%COMP%]{width:80%;height:100%;padding:0 .5rem}p[_ngcontent-%COMP%]{word-break:break-all;max-width:100%;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical}span[_ngcontent-%COMP%]{padding:.5rem 0;display:flex;flex-direction:row;align-items:center}span[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{cursor:auto}@media screen and (max-width:767px){input[_ngcontent-%COMP%]{width:100%}}"]}),n})(),m=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Ib({type:n,selectors:[["app-learning-process"]],decls:2,vars:0,template:function(n,e){1&n&&(s.Tb(0,"p"),s.xc(1,"learning-process works!"),s.Sb())},styles:[""]}),n})();var M=t("sYmb");function h(n,e){1&n&&(s.Tb(0,"span"),s.Pb(1,"em",13),s.Sb())}function O(n,e){if(1&n){const n=s.Ub();s.Tb(0,"em",14),s.bc("click",(function(){return s.sc(n),s.dc(2).isEdit=!0})),s.Sb()}}function v(n,e){if(1&n){const n=s.Ub();s.Tb(0,"em",15),s.bc("click",(function(){return s.sc(n),s.dc(2).submit()})),s.Sb()}}function x(n,e){if(1&n){const n=s.Ub();s.Tb(0,"div",1),s.Tb(1,"div",2),s.Tb(2,"span",3),s.Pb(3,"img",4),s.vc(4,h,2,0,"span",5),s.Sb(),s.Tb(5,"ul"),s.Tb(6,"li",6),s.Tb(7,"p"),s.xc(8),s.ec(9,"translate"),s.Sb(),s.Tb(10,"span"),s.Tb(11,"app-profile-field",7),s.bc("ngModelChange",(function(e){return s.sc(n),s.dc().modifyField("nickName",e)}))("ngModelChange",(function(e){return s.sc(n),s.dc().fields.nickName=e})),s.Sb(),s.Sb(),s.Sb(),s.Tb(12,"li"),s.Tb(13,"p"),s.xc(14),s.ec(15,"translate"),s.Sb(),s.Tb(16,"span"),s.xc(17),s.ec(18,"translate"),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Tb(19,"div",8),s.Tb(20,"div",9),s.Tb(21,"h1"),s.xc(22,"\u5b78\u7fd2\u91cc\u7a0b\u7891"),s.Sb(),s.Pb(23,"app-learning-process"),s.Sb(),s.Tb(24,"div",10),s.Tb(25,"h1"),s.xc(26),s.ec(27,"translate"),s.Sb(),s.Tb(28,"ul"),s.Tb(29,"li"),s.Tb(30,"p"),s.xc(31),s.ec(32,"translate"),s.Sb(),s.Tb(33,"span"),s.Tb(34,"app-profile-field",7),s.bc("ngModelChange",(function(e){return s.sc(n),s.dc().modifyField("firstName",e)}))("ngModelChange",(function(e){return s.sc(n),s.dc().fields.firstName=e})),s.Sb(),s.Sb(),s.Sb(),s.Tb(35,"li"),s.Tb(36,"p"),s.xc(37),s.ec(38,"translate"),s.Sb(),s.Tb(39,"span"),s.Tb(40,"app-profile-field",7),s.bc("ngModelChange",(function(e){return s.sc(n),s.dc().modifyField("lastName",e)}))("ngModelChange",(function(e){return s.sc(n),s.dc().fields.lastName=e})),s.Sb(),s.Sb(),s.Sb(),s.Tb(41,"li"),s.Tb(42,"p"),s.xc(43),s.ec(44,"translate"),s.Sb(),s.Tb(45,"span"),s.Tb(46,"app-profile-field",7),s.bc("ngModelChange",(function(e){return s.sc(n),s.dc().modifyField("address",e)}))("ngModelChange",(function(e){return s.sc(n),s.dc().fields.address=e})),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.vc(47,O,1,0,"em",11),s.vc(48,v,1,0,"ng-template",null,12,s.wc),s.Sb()}if(2&n){const n=s.qc(49),e=s.dc();s.Cb(3),s.kc("alt",e.user.profile.photo),s.jc("src",e.user.profile.photo||"assets/images/logo.png",s.tc),s.Cb(1),s.jc("ngIf",e.isEdit),s.Cb(4),s.yc(s.fc(9,24,"Pages.Profile.NickName.Field")),s.Cb(3),s.jc("validator",e.validator)("isEdit",e.isEdit)("ngModel",e.fields.nickName),s.Cb(3),s.yc(s.fc(15,26,"Pages.Profile.Identity.Field")),s.Cb(3),s.yc(s.fc(18,28,"Pages.Profile.Identity."+e.user.profile.identity)),s.Cb(9),s.yc(s.fc(27,30,"Pages.Profile.UserProfile.Title")),s.Cb(5),s.yc(s.fc(32,32,"Pages.Profile.UserProfile.Fields.FirstName")),s.Cb(3),s.jc("validator",e.validator)("isEdit",e.isEdit)("ngModel",e.fields.firstName),s.Cb(3),s.yc(s.fc(38,34,"Pages.Profile.UserProfile.Fields.LastName")),s.Cb(3),s.jc("validator",e.validator)("isEdit",e.isEdit)("ngModel",e.fields.lastName),s.Cb(3),s.yc(s.fc(44,36,"Pages.Profile.UserProfile.Fields.Address")),s.Cb(3),s.jc("validator",e.validator)("isEdit",e.isEdit)("ngModel",e.fields.address),s.Cb(1),s.jc("ngIf",!e.isEdit)("ngIfElse",n)}}let I=(()=>{class n{constructor(n,e){this.$fb=n,this.$overlay=e,this.isEdit=!1}ngOnInit(){}ngOnChanges(n){n.user.currentValue&&(this.fields=Object.assign({},n.user.currentValue.profile))}validator(n){return n.length>0}modifyField(n,e){this.fields[n]=e}submit(){this.isEdit=!1,this.$fb.collection("users").update(this.user.profile.uid,this.fields).then(n=>{this.$overlay.showPopup(new f.a({alert:!1,message:d.b.ModifiedSuccessfully}))}).catch(n=>{this.$overlay.showPopup(new f.a({alert:!0,message:d.b.ModifiedFailed}))})}}return n.\u0275fac=function(e){return new(e||n)(s.Ob(g.a),s.Ob(r.a))},n.\u0275cmp=s.Ib({type:n,selectors:[["app-basic-info"]],inputs:{user:"user"},features:[s.Ab],decls:1,vars:1,consts:[["class","BasicInfo",4,"ngIf"],[1,"BasicInfo"],[1,"BasicInfo__Guide"],[1,"BasicInfo__Avatar"],[3,"src","alt"],[4,"ngIf"],[1,"mb-4"],[3,"validator","isEdit","ngModel","ngModelChange"],[1,"BasicInfo__Container"],[1,"BasicInfo__Milestone"],[1,"BasicInfo__Profile"],["class","icon-edit",3,"click",4,"ngIf","ngIfElse"],["tSave",""],[1,"icon-add-2"],[1,"icon-edit",3,"click"],[1,"icon-done",3,"click"]],template:function(n,e){1&n&&s.vc(0,x,50,38,"div",0),2&n&&s.jc("ngIf",e.user)},directives:[i.k,C,b.g,b.i,m],pipes:[M.c],styles:[".BasicInfo[_ngcontent-%COMP%]{height:100%;position:relative;font-size:1rem}.BasicInfo[_ngcontent-%COMP%] > em[_ngcontent-%COMP%]{font-size:1.125rem;border:1px solid #fff;border-radius:100%;padding:.5rem;position:absolute;z-index:2;bottom:0;right:.5rem}.BasicInfo[_ngcontent-%COMP%] > em[_ngcontent-%COMP%]:hover{color:#e79a1a;border-color:#e79a1a;transition:.1s}.BasicInfo__Guide[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;border-bottom:.5px solid #2d315b;box-shadow:0 1px 1px 0 #2d315b;padding-bottom:2rem}.BasicInfo__Guide[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{width:100%;height:100%}.BasicInfo__Guide[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:baseline}.BasicInfo__Guide[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{flex:3}.BasicInfo__Guide[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{flex:7}.BasicInfo__Avatar[_ngcontent-%COMP%]{position:relative;margin:0 3rem 0 1rem}.BasicInfo__Avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:8rem;height:8rem;border-radius:100%;padding:1.5px;border:3px solid #fff;box-shadow:0 0 3px 1px #fff;opacity:.9}.BasicInfo__Avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover + span[_ngcontent-%COMP%]{visibility:visible}.BasicInfo__Avatar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{cursor:pointer;width:8rem;height:8rem;position:absolute;top:0;left:0;border:none;border-radius:100%;display:flex;justify-content:center;align-items:center;visibility:hidden;background-color:rgba(0,0,0,.6)}.BasicInfo__Avatar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-size:1.875rem}.BasicInfo__Avatar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:hover{visibility:visible}.BasicInfo__Container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start}.BasicInfo__Milestone[_ngcontent-%COMP%]{padding:2rem 1rem 0;flex:1}.BasicInfo__Milestone[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.125rem;color:#c4cdd5;letter-spacing:.5px}.BasicInfo__Profile[_ngcontent-%COMP%]{flex:1;padding:2rem 1rem 0}.BasicInfo__Profile[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.125rem;color:#c4cdd5;letter-spacing:.5px}.BasicInfo__Profile[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{font-size:1rem;margin-top:2rem}.BasicInfo__Profile[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:baseline;justify-content:space-between}.BasicInfo__Profile[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:not(:last-child){margin-bottom:1rem}.BasicInfo__Profile[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .BasicInfo__Profile[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1}@media screen and (max-width:1200px){.BasicInfo[_ngcontent-%COMP%]{padding:0 1rem}.BasicInfo__Avatar[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0 0 2rem}.BasicInfo__Avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;height:50%;border-width:1px}.BasicInfo__Avatar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:50%;height:100%;left:50%;visibility:visible;transform:translate(-50%)}.BasicInfo__Container[_ngcontent-%COMP%]{flex-direction:column-reverse;justify-content:flex-start}.BasicInfo__Milestone[_ngcontent-%COMP%]{padding:2rem 0;width:100%}.BasicInfo__Guide[_ngcontent-%COMP%]{flex-direction:column;font-size:.875rem}.BasicInfo__Guide[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{flex:2}.BasicInfo__Guide[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{flex:1;text-align:right}.BasicInfo__Profile[_ngcontent-%COMP%]{box-shadow:0 1px 1px 0 #2d315b;width:100%;padding:2rem 0}.BasicInfo__Profile[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{font-size:.875rem}.BasicInfo__Profile[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{justify-content:space-between}.BasicInfo__Profile[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin-right:0;flex:2}.BasicInfo__Profile[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{flex:1;text-align:right}}"]}),n})();var y=t("IzT6");function w(n,e){if(1&n&&(s.Tb(0,"div",2),s.Tb(1,"div",3),s.Tb(2,"app-layout-card",4),s.Rb(3,5),s.Tb(4,"div",6),s.Pb(5,"app-basic-info",7),s.Sb(),s.Qb(),s.Sb(),s.Sb(),s.Tb(6,"div",8),s.Tb(7,"app-layout-card",4),s.Rb(8,5),s.Tb(9,"div",9),s.Tb(10,"span"),s.Tb(11,"h1"),s.Pb(12,"em",10),s.xc(13," \u5b78\u7fd2\u72c0\u6cc1\u7e3d\u89bd"),s.Sb(),s.Sb(),s.Sb(),s.Qb(),s.Sb(),s.Sb(),s.Sb()),2&n){const n=e.ngIf;s.Cb(5),s.jc("user",n)}}function B(n,e){if(1&n){const n=s.Ub();s.Tb(0,"app-message-popup",11),s.bc("onclose",(function(){return s.sc(n),s.dc().$overlay.hidePopup()})),s.xc(1),s.ec(2,"translate"),s.Sb()}if(2&n){const n=e.ngIf;s.jc("time",2),s.Cb(1),s.zc(" ",s.fc(2,2,n.options.message),"\n")}}const S=[{path:"profile",component:(()=>{class n{constructor(n,e){this.$user=n,this.$overlay=e}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(s.Ob(a.a),s.Ob(r.a))},n.\u0275cmp=s.Ib({type:n,selectors:[["app-profile"]],decls:4,vars:6,consts:[["class","Profile",4,"ngIf"],[3,"time","onclose",4,"ngIf"],[1,"Profile"],[1,"col-12","col-md-6","mb-4","mb-md-0"],["hideHead",""],["body",""],[1,"Profile__Basic"],[3,"user"],[1,"col-12","col-md-6"],[1,"Profile__Dashboard"],[1,"icon-portfolio"],[3,"time","onclose"]],template:function(n,e){1&n&&(s.vc(0,w,14,1,"div",0),s.ec(1,"async"),s.vc(2,B,3,4,"app-message-popup",1),s.ec(3,"async")),2&n&&(s.jc("ngIf",s.fc(1,2,e.$user.user$)),s.Cb(2),s.jc("ngIf",s.fc(3,4,e.$overlay.popup$)))},directives:[i.k,l.a,I,y.a],pipes:[i.b,M.c],styles:[".Profile[_ngcontent-%COMP%]{display:flex;flex-direction:row}.Profile__Basic[_ngcontent-%COMP%], .Profile__Dashboard[_ngcontent-%COMP%]{height:calc(100vh - 10rem);overflow:auto}.Profile__Basic[_ngcontent-%COMP%]::-webkit-scrollbar, .Profile__Dashboard[_ngcontent-%COMP%]::-webkit-scrollbar{width:.375rem;height:.375rem}.Profile__Basic[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .Profile__Dashboard[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#dfe3e8;border-radius:10px}.Profile__Dashboard[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:flex;border-bottom:.5px solid #2d315b;padding:0 1rem 1rem;box-shadow:0 1px 1px 0 #2d315b}.Profile__Dashboard[_ngcontent-%COMP%] > span[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{display:flex;align-items:baseline;font-size:1.125rem;color:#fff;letter-spacing:.125rem}.Profile__Dashboard[_ngcontent-%COMP%] > span[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{cursor:auto;font-size:1rem;margin-right:.5rem}@media screen and (max-width:767px){.Profile[_ngcontent-%COMP%]{flex-direction:column}}"]}),n})()},{path:"**",component:o.a}];let T=(()=>{class n{}return n.\u0275mod=s.Mb({type:n}),n.\u0275inj=s.Lb({factory:function(e){return new(e||n)},imports:[[c.c.forChild(S)],c.c]}),n})();var k=t("FpXt");let j=(()=>{class n{}return n.\u0275mod=s.Mb({type:n}),n.\u0275inj=s.Lb({factory:function(e){return new(e||n)},imports:[[i.c,T,k.a]]}),n})()}}]);