function _inherits(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&_setPrototypeOf(n,t)}function _setPrototypeOf(n,t){return(_setPrototypeOf=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function _createSuper(n){var t=_isNativeReflectConstruct();return function(){var e,i=_getPrototypeOf(n);if(t){var o=_getPrototypeOf(this).constructor;e=Reflect.construct(i,arguments,o)}else e=i.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(n,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(n):t}function _assertThisInitialized(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}function _getPrototypeOf(n){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function _createClass(n,t,e){return t&&_defineProperties(n.prototype,t),e&&_defineProperties(n,e),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"9N29K":function(n,t,e){"use strict";e.r(t),e.d(t,"UserModule",(function(){return E}));var i,o=e("ofXK"),c=e("nF0/"),r=e("tyNb"),a=e("fXoL"),s=e("x4NB"),l=e("KMGt"),f=e("a/YC"),u=e("3Pt+"),d=((i=function(){function n(){_classCallCheck(this,n)}return _createClass(n,[{key:"writeValue",value:function(n){this.model=n}},{key:"registerOnChange",value:function(n){this.onChange=n}},{key:"registerOnTouched",value:function(){}},{key:"setDisabledState",value:function(n){}},{key:"notifyValueChange",value:function(){this.onChange&&this.onChange(this.model)}}]),n}()).\u0275fac=function(n){return new(n||i)},i.\u0275prov=a.Ib({token:i,factory:i.\u0275fac}),i);function b(n,t){if(1&n&&(a.Pb(0),a.vc(1),a.Ob()),2&n){var e=a.bc();a.Ab(1),a.xc(" ",e.model,"\n")}}function g(n,t){if(1&n){var e=a.Sb();a.Rb(0,"input",2),a.Zb("ngModelChange",(function(n){return a.qc(e),a.bc().validation(n)}))("ngModelChange",(function(n){return a.qc(e),a.bc().value=n})),a.Qb()}if(2&n){var i=a.bc();a.hc("ngModel",i.value)}}function p(n,t){1&n&&(a.Rb(0,"span"),a.Nb(1,"em",3),a.Rb(2,"p",4),a.vc(3,"\u6b64\u6b04\u4f4d\u4e0d\u5f97\u70ba\u7a7a"),a.Qb(),a.Qb())}var _,h,v=((h=function(n){_inherits(e,n);var t=_createSuper(e);function e(){var n;return _classCallCheck(this,e),(n=t.call(this)).isEdit=!1,n.valid=!0,n}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(n){!1===n.isEdit.currentValue&&(this.valid=!0)}},{key:"validation",value:function(n){this.validator&&(this.valid=this.validator(n))}},{key:"value",get:function(){return this.model},set:function(n){this.valid&&(this.model=n,this.notifyValueChange())}}]),e}(d)).\u0275fac=function(n){return new(n||h)},h.\u0275cmp=a.Gb({type:h,selectors:[["app-profile-field"]],inputs:{isEdit:"isEdit",validator:"validator"},features:[a.zb([(_=h,{provide:u.c,useExisting:Object(a.T)((function(){return _})),multi:!0})]),a.xb,a.yb],decls:3,vars:3,consts:[[4,"ngIf"],["type","text",3,"ngModel","ngModelChange",4,"ngIf"],["type","text",3,"ngModel","ngModelChange"],[1,"g5-font-rose-xs","icon-alert_2","mr-1"],[1,"g5-font-rose-xs"]],template:function(n,t){1&n&&(a.tc(0,b,2,1,"ng-container",0),a.tc(1,g,1,1,"input",1),a.tc(2,p,4,0,"span",0)),2&n&&(a.hc("ngIf",!t.isEdit),a.Ab(1),a.hc("ngIf",t.isEdit),a.Ab(1),a.hc("ngIf",!t.valid&&t.isEdit))},directives:[o.k,u.a,u.d,u.e],styles:["input[_ngcontent-%COMP%]{width:80%;height:100%;padding:0 .5rem}span[_ngcontent-%COMP%]{padding:.5rem 0;display:flex;flex-direction:row;align-items:center}span[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{cursor:auto}"]}),h),C=e("sYmb");function P(n,t){1&n&&(a.Rb(0,"span"),a.Nb(1,"em",10),a.Qb())}function O(n,t){if(1&n){var e=a.Sb();a.Rb(0,"em",11),a.Zb("click",(function(){return a.qc(e),a.bc(2).isEdit=!0})),a.Qb()}}function m(n,t){if(1&n){var e=a.Sb();a.Rb(0,"em",12),a.Zb("click",(function(){return a.qc(e),a.bc(2).submit()})),a.Qb()}}function y(n,t){if(1&n){var e=a.Sb();a.Rb(0,"div",1),a.Rb(1,"ul"),a.Rb(2,"li",2),a.Rb(3,"span",3),a.Nb(4,"img",4),a.tc(5,P,2,0,"span",5),a.Qb(),a.Rb(6,"div"),a.Rb(7,"div",6),a.Rb(8,"p"),a.vc(9),a.cc(10,"translate"),a.Qb(),a.Rb(11,"span"),a.Rb(12,"app-profile-field",7),a.Zb("ngModelChange",(function(n){return a.qc(e),a.bc().modifyField("nickName",n)}))("ngModelChange",(function(n){return a.qc(e),a.bc().fields.nickName=n})),a.Qb(),a.Qb(),a.Qb(),a.Rb(13,"div"),a.Rb(14,"p"),a.vc(15),a.cc(16,"translate"),a.Qb(),a.Rb(17,"span"),a.vc(18),a.cc(19,"translate"),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Nb(20,"li"),a.Qb(),a.tc(21,O,1,0,"em",8),a.tc(22,m,1,0,"ng-template",null,9,a.uc),a.Qb()}if(2&n){var i=a.oc(23),o=a.bc();a.Ab(4),a.ic("alt",o.user.photo),a.hc("src",o.user.photo,a.rc),a.Ab(1),a.hc("ngIf",o.isEdit),a.Ab(4),a.wc(a.dc(10,11,"Pages.Profile.NickName.Field")),a.Ab(3),a.hc("validator",o.validator)("isEdit",o.isEdit)("ngModel",o.fields.nickName),a.Ab(3),a.wc(a.dc(16,13,"Pages.Profile.Identity.Field")),a.Ab(3),a.wc(a.dc(19,15,"Pages.Profile.Identity."+o.user.identity)),a.Ab(3),a.hc("ngIf",!o.isEdit)("ngIfElse",i)}}var M,I=((M=function(){function n(t){_classCallCheck(this,n),this.$fb=t,this.isEdit=!1}return _createClass(n,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(n){n.user.currentValue&&(this.fields=Object.assign({},n.user.currentValue))}},{key:"validator",value:function(n){return n.length>0}},{key:"modifyField",value:function(n,t){this.fields[n]=t}},{key:"submit",value:function(){this.isEdit=!1,this.$fb.collection("users").update(this.user.id,this.fields)}}]),n}()).\u0275fac=function(n){return new(n||M)(a.Mb(f.a))},M.\u0275cmp=a.Gb({type:M,selectors:[["app-basic-info"]],inputs:{user:"user"},features:[a.yb],decls:1,vars:1,consts:[["class","BasicInfo",4,"ngIf"],[1,"BasicInfo"],[1,"BasicInfo__Guide"],[1,"BasicInfo__Avatar"],[3,"src","alt"],[4,"ngIf"],[1,"mb-4"],[3,"validator","isEdit","ngModel","ngModelChange"],["class","icon-edit",3,"click",4,"ngIf","ngIfElse"],["tSave",""],[1,"icon-add-2"],[1,"icon-edit",3,"click"],[1,"icon-done",3,"click"]],template:function(n,t){1&n&&a.tc(0,y,24,17,"div",0),2&n&&a.hc("ngIf",t.user)},directives:[o.k,v,u.d,u.e],pipes:[C.c],styles:[".BasicInfo[_ngcontent-%COMP%]{height:100%;position:relative;font-size:1rem}.BasicInfo[_ngcontent-%COMP%] > em[_ngcontent-%COMP%]{font-size:1.125rem;border:1px solid #fff;border-radius:100%;padding:.5rem;position:absolute;z-index:2;bottom:0;right:.5rem}.BasicInfo[_ngcontent-%COMP%] > em[_ngcontent-%COMP%]:hover{color:#e79a1a;border-color:#e79a1a;transition:.1s}.BasicInfo__Guide[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.BasicInfo__Guide[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%}.BasicInfo__Guide[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:baseline}.BasicInfo__Guide[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{flex:3}.BasicInfo__Guide[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{flex:7}.BasicInfo__Avatar[_ngcontent-%COMP%]{position:relative;margin:0 3rem 0 1rem}.BasicInfo__Avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:8rem;height:8rem;border-radius:100%;padding:1.5px;border:3px solid #fff;box-shadow:0 0 3px 1px #fff;opacity:.9}.BasicInfo__Avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover + span[_ngcontent-%COMP%]{visibility:visible}.BasicInfo__Avatar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{cursor:pointer;width:8rem;height:8rem;position:absolute;top:0;left:0;border:none;border-radius:100%;display:flex;justify-content:center;align-items:center;visibility:hidden;background-color:rgba(0,0,0,.6)}.BasicInfo__Avatar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-size:1.875rem}.BasicInfo__Avatar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:hover{visibility:visible}@media screen and (max-width:1200px){.BasicInfo[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0 1rem}.BasicInfo__Avatar[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0 0 2rem}.BasicInfo__Avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;height:50%;border-width:1px}.BasicInfo__Avatar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:50%;height:100%;left:50%;visibility:visible;transform:translate(-50%)}.BasicInfo__Guide[_ngcontent-%COMP%]{flex-direction:column;font-size:.875rem}.BasicInfo__Guide[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{flex:1}.BasicInfo__Guide[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{flex:1;text-align:right}}"]}),M);function k(n,t){if(1&n&&(a.Rb(0,"div",1),a.Rb(1,"div",2),a.Rb(2,"app-layout-card",3),a.Pb(3,4),a.Rb(4,"div",5),a.Nb(5,"app-basic-info",6),a.Qb(),a.Ob(),a.Qb(),a.Qb(),a.Rb(6,"div",7),a.Rb(7,"app-layout-card"),a.Pb(8,4),a.vc(9," 2 "),a.Ob(),a.Qb(),a.Qb(),a.Qb()),2&n){var e=t.ngIf;a.Ab(5),a.hc("user",e)}}var w,x,R,B=[{path:"profile",component:(w=function(){function n(t){_classCallCheck(this,n),this.$user=t}return _createClass(n,[{key:"ngOnInit",value:function(){}}]),n}(),w.\u0275fac=function(n){return new(n||w)(a.Mb(s.a))},w.\u0275cmp=a.Gb({type:w,selectors:[["app-profile"]],decls:2,vars:3,consts:[["class","Profile",4,"ngIf"],[1,"Profile"],[1,"col-12","col-md-6","mb-4","mb-md-0"],["hideHead",""],["body",""],[1,"Profile__Basic"],[3,"user"],[1,"col-12","col-md-6"]],template:function(n,t){1&n&&(a.tc(0,k,10,1,"div",0),a.cc(1,"async")),2&n&&a.hc("ngIf",a.dc(1,1,t.$user.user$))},directives:[o.k,l.a,I],pipes:[o.b],styles:[".Profile[_ngcontent-%COMP%]{display:flex;flex-direction:row}.Profile__Basic[_ngcontent-%COMP%]{height:calc(100vh - 10rem);overflow:auto}.Profile__Basic[_ngcontent-%COMP%]::-webkit-scrollbar{width:.375rem;height:.375rem}.Profile__Basic[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#dfe3e8;border-radius:10px}@media screen and (max-width:767px){.Profile[_ngcontent-%COMP%]{flex-direction:column}}"]}),w)},{path:"**",component:c.a}],Q=((x=function n(){_classCallCheck(this,n)}).\u0275mod=a.Kb({type:x}),x.\u0275inj=a.Jb({factory:function(n){return new(n||x)},imports:[[r.c.forChild(B)],r.c]}),x),A=e("FpXt"),E=((R=function n(){_classCallCheck(this,n)}).\u0275mod=a.Kb({type:R}),R.\u0275inj=a.Jb({factory:function(n){return new(n||R)},imports:[[o.c,Q,A.a]]}),R)}}]);