function _inherits(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&_setPrototypeOf(n,e)}function _setPrototypeOf(n,e){return(_setPrototypeOf=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n})(n,e)}function _createSuper(n){var e=_isNativeReflectConstruct();return function(){var t,i=_getPrototypeOf(n);if(e){var o=_getPrototypeOf(this).constructor;t=Reflect.construct(i,arguments,o)}else t=i.apply(this,arguments);return _possibleConstructorReturn(this,t)}}function _possibleConstructorReturn(n,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(n):e}function _assertThisInitialized(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}function _getPrototypeOf(n){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function _createClass(n,e,t){return e&&_defineProperties(n.prototype,e),t&&_defineProperties(n,t),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"9N29K":function(n,e,t){"use strict";t.r(e),t.d(e,"UserModule",(function(){return U}));var i,o=t("ofXK"),c=t("nF0/"),r=t("tyNb"),a=t("fXoL"),s=t("x4NB"),l=t("QVQ7"),f=t("KMGt"),d=t("qe6W"),u=t("ozpC"),g=t("a/YC"),b=t("3Pt+"),_=((i=function(){function n(){_classCallCheck(this,n)}return _createClass(n,[{key:"writeValue",value:function(n){this.model=n}},{key:"registerOnChange",value:function(n){this.onChange=n}},{key:"registerOnTouched",value:function(){}},{key:"setDisabledState",value:function(n){}},{key:"notifyValueChange",value:function(){this.onChange&&this.onChange(this.model)}}]),n}()).\u0275fac=function(n){return new(n||i)},i.\u0275prov=a.Kb({token:i,factory:i.\u0275fac}),i);function p(n,e){if(1&n&&(a.Rb(0),a.Tb(1,"p"),a.xc(2),a.Sb(),a.Qb()),2&n){var t=a.dc();a.Cb(2),a.yc(t.model||"-")}}function C(n,e){if(1&n){var t=a.Ub();a.Tb(0,"input",2),a.bc("ngModelChange",(function(n){return a.sc(t),a.dc().validation(n)}))("ngModelChange",(function(n){return a.sc(t),a.dc().value=n})),a.Sb()}if(2&n){var i=a.dc();a.jc("ngModel",i.value)}}function P(n,e){1&n&&(a.Tb(0,"span"),a.Pb(1,"em",3),a.Tb(2,"p",4),a.xc(3,"\u6b64\u6b04\u4f4d\u4e0d\u5f97\u70ba\u7a7a"),a.Sb(),a.Sb())}var h,m,M,O=((M=function(n){_inherits(t,n);var e=_createSuper(t);function t(){var n;return _classCallCheck(this,t),(n=e.call(this)).isEdit=!1,n.valid=!0,n}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(n){!1===n.isEdit.currentValue&&(this.valid=!0)}},{key:"validation",value:function(n){this.validator&&(this.valid=this.validator(n))}},{key:"value",get:function(){return this.model},set:function(n){this.valid&&(this.model=n,this.notifyValueChange())}}]),t}(_)).\u0275fac=function(n){return new(n||M)},M.\u0275cmp=a.Ib({type:M,selectors:[["app-profile-field"]],inputs:{isEdit:"isEdit",validator:"validator"},features:[a.Bb([(m=M,{provide:b.f,useExisting:Object(a.U)((function(){return m})),multi:!0})]),a.zb,a.Ab],decls:3,vars:3,consts:[[4,"ngIf"],["type","text",3,"ngModel","ngModelChange",4,"ngIf"],["type","text",3,"ngModel","ngModelChange"],[1,"g5-font-rose-xs","icon-alert_2","mr-1"],[1,"g5-font-rose-xs"]],template:function(n,e){1&n&&(a.vc(0,p,3,1,"ng-container",0),a.vc(1,C,1,1,"input",1),a.vc(2,P,4,0,"span",0)),2&n&&(a.jc("ngIf",!e.isEdit),a.Cb(1),a.jc("ngIf",e.isEdit),a.Cb(1),a.jc("ngIf",!e.valid&&e.isEdit))},directives:[o.k,b.a,b.g,b.i],styles:["input[_ngcontent-%COMP%]{width:80%;height:100%;padding:0 .5rem}p[_ngcontent-%COMP%]{word-break:break-all;max-width:100%;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical}span[_ngcontent-%COMP%]{padding:.5rem 0;display:flex;flex-direction:row;align-items:center}span[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{cursor:auto}@media screen and (max-width:767px){input[_ngcontent-%COMP%]{width:100%}}"]}),M),v=((h=function(){function n(){_classCallCheck(this,n)}return _createClass(n,[{key:"ngOnInit",value:function(){}}]),n}()).\u0275fac=function(n){return new(n||h)},h.\u0275cmp=a.Ib({type:h,selectors:[["app-learning-process"]],decls:2,vars:0,template:function(n,e){1&n&&(a.Tb(0,"p"),a.xc(1,"learning-process works!"),a.Sb())},styles:[""]}),h),y=t("sYmb");function x(n,e){1&n&&(a.Tb(0,"span"),a.Pb(1,"em",13),a.Sb())}function I(n,e){if(1&n){var t=a.Ub();a.Tb(0,"em",14),a.bc("click",(function(){return a.sc(t),a.dc(2).isEdit=!0})),a.Sb()}}function w(n,e){if(1&n){var t=a.Ub();a.Tb(0,"em",15),a.bc("click",(function(){return a.sc(t),a.dc(2).submit()})),a.Sb()}}function S(n,e){if(1&n){var t=a.Ub();a.Tb(0,"div",1),a.Tb(1,"div",2),a.Tb(2,"span",3),a.Pb(3,"img",4),a.vc(4,x,2,0,"span",5),a.Sb(),a.Tb(5,"ul"),a.Tb(6,"li",6),a.Tb(7,"p"),a.xc(8),a.ec(9,"translate"),a.Sb(),a.Tb(10,"span"),a.Tb(11,"app-profile-field",7),a.bc("ngModelChange",(function(n){return a.sc(t),a.dc().modifyField("nickName",n)}))("ngModelChange",(function(n){return a.sc(t),a.dc().fields.nickName=n})),a.Sb(),a.Sb(),a.Sb(),a.Tb(12,"li"),a.Tb(13,"p"),a.xc(14),a.ec(15,"translate"),a.Sb(),a.Tb(16,"span"),a.xc(17),a.ec(18,"translate"),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Tb(19,"div",8),a.Tb(20,"div",9),a.Tb(21,"h1"),a.xc(22,"\u5b78\u7fd2\u91cc\u7a0b\u7891"),a.Sb(),a.Pb(23,"app-learning-process"),a.Sb(),a.Tb(24,"div",10),a.Tb(25,"h1"),a.xc(26),a.ec(27,"translate"),a.Sb(),a.Tb(28,"ul"),a.Tb(29,"li"),a.Tb(30,"p"),a.xc(31),a.ec(32,"translate"),a.Sb(),a.Tb(33,"span"),a.Tb(34,"app-profile-field",7),a.bc("ngModelChange",(function(n){return a.sc(t),a.dc().modifyField("firstName",n)}))("ngModelChange",(function(n){return a.sc(t),a.dc().fields.firstName=n})),a.Sb(),a.Sb(),a.Sb(),a.Tb(35,"li"),a.Tb(36,"p"),a.xc(37),a.ec(38,"translate"),a.Sb(),a.Tb(39,"span"),a.Tb(40,"app-profile-field",7),a.bc("ngModelChange",(function(n){return a.sc(t),a.dc().modifyField("lastName",n)}))("ngModelChange",(function(n){return a.sc(t),a.dc().fields.lastName=n})),a.Sb(),a.Sb(),a.Sb(),a.Tb(41,"li"),a.Tb(42,"p"),a.xc(43),a.ec(44,"translate"),a.Sb(),a.Tb(45,"span"),a.Tb(46,"app-profile-field",7),a.bc("ngModelChange",(function(n){return a.sc(t),a.dc().modifyField("address",n)}))("ngModelChange",(function(n){return a.sc(t),a.dc().fields.address=n})),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.vc(47,I,1,0,"em",11),a.vc(48,w,1,0,"ng-template",null,12,a.wc),a.Sb()}if(2&n){var i=a.qc(49),o=a.dc();a.Cb(3),a.kc("alt",o.user.profile.photo),a.jc("src",o.user.profile.photo||"assets/images/logo.png",a.tc),a.Cb(1),a.jc("ngIf",o.isEdit),a.Cb(4),a.yc(a.fc(9,24,"Pages.Profile.NickName.Field")),a.Cb(3),a.jc("validator",o.validator)("isEdit",o.isEdit)("ngModel",o.fields.nickName),a.Cb(3),a.yc(a.fc(15,26,"Pages.Profile.Identity.Field")),a.Cb(3),a.yc(a.fc(18,28,"Pages.Profile.Identity."+o.user.profile.identity)),a.Cb(9),a.yc(a.fc(27,30,"Pages.Profile.UserProfile.Title")),a.Cb(5),a.yc(a.fc(32,32,"Pages.Profile.UserProfile.Fields.FirstName")),a.Cb(3),a.jc("validator",o.validator)("isEdit",o.isEdit)("ngModel",o.fields.firstName),a.Cb(3),a.yc(a.fc(38,34,"Pages.Profile.UserProfile.Fields.LastName")),a.Cb(3),a.jc("validator",o.validator)("isEdit",o.isEdit)("ngModel",o.fields.lastName),a.Cb(3),a.yc(a.fc(44,36,"Pages.Profile.UserProfile.Fields.Address")),a.Cb(3),a.jc("validator",o.validator)("isEdit",o.isEdit)("ngModel",o.fields.address),a.Cb(1),a.jc("ngIf",!o.isEdit)("ngIfElse",i)}}var T,k=((T=function(){function n(e,t){_classCallCheck(this,n),this.$fb=e,this.$overlay=t,this.isEdit=!1}return _createClass(n,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(n){n.user.currentValue&&(this.fields=Object.assign({},n.user.currentValue.profile))}},{key:"validator",value:function(n){return n.length>0}},{key:"modifyField",value:function(n,e){this.fields[n]=e}},{key:"submit",value:function(){var n=this;this.isEdit=!1,this.$fb.collection("users").update(this.user.profile.uid,this.fields).then((function(e){n.$overlay.showPopup(new u.a({alert:!1,message:d.b.ModifiedSuccessfully}))})).catch((function(e){n.$overlay.showPopup(new u.a({alert:!0,message:d.b.ModifiedFailed}))}))}}]),n}()).\u0275fac=function(n){return new(n||T)(a.Ob(g.a),a.Ob(l.a))},T.\u0275cmp=a.Ib({type:T,selectors:[["app-basic-info"]],inputs:{user:"user"},features:[a.Ab],decls:1,vars:1,consts:[["class","BasicInfo",4,"ngIf"],[1,"BasicInfo"],[1,"BasicInfo__Guide"],[1,"BasicInfo__Avatar"],[3,"src","alt"],[4,"ngIf"],[1,"mb-4"],[3,"validator","isEdit","ngModel","ngModelChange"],[1,"BasicInfo__Container"],[1,"BasicInfo__Milestone"],[1,"BasicInfo__Profile"],["class","icon-edit",3,"click",4,"ngIf","ngIfElse"],["tSave",""],[1,"icon-add-2"],[1,"icon-edit",3,"click"],[1,"icon-done",3,"click"]],template:function(n,e){1&n&&a.vc(0,S,50,38,"div",0),2&n&&a.jc("ngIf",e.user)},directives:[o.k,O,b.g,b.i,v],pipes:[y.c],styles:[".BasicInfo[_ngcontent-%COMP%]{height:100%;position:relative;font-size:1rem}.BasicInfo[_ngcontent-%COMP%] > em[_ngcontent-%COMP%]{font-size:1.125rem;border:1px solid #fff;border-radius:100%;padding:.5rem;position:absolute;z-index:2;bottom:0;right:.5rem}.BasicInfo[_ngcontent-%COMP%] > em[_ngcontent-%COMP%]:hover{color:#e79a1a;border-color:#e79a1a;transition:.1s}.BasicInfo__Guide[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;border-bottom:.5px solid #2d315b;box-shadow:0 1px 1px 0 #2d315b;padding-bottom:2rem}.BasicInfo__Guide[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{width:100%;height:100%}.BasicInfo__Guide[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:baseline}.BasicInfo__Guide[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{flex:3}.BasicInfo__Guide[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{flex:7}.BasicInfo__Avatar[_ngcontent-%COMP%]{position:relative;margin:0 3rem 0 1rem}.BasicInfo__Avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:8rem;height:8rem;border-radius:100%;padding:1.5px;border:3px solid #fff;box-shadow:0 0 3px 1px #fff;opacity:.9}.BasicInfo__Avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover + span[_ngcontent-%COMP%]{visibility:visible}.BasicInfo__Avatar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{cursor:pointer;width:8rem;height:8rem;position:absolute;top:0;left:0;border:none;border-radius:100%;display:flex;justify-content:center;align-items:center;visibility:hidden;background-color:rgba(0,0,0,.6)}.BasicInfo__Avatar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-size:1.875rem}.BasicInfo__Avatar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:hover{visibility:visible}.BasicInfo__Container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start}.BasicInfo__Milestone[_ngcontent-%COMP%]{padding:2rem 1rem 0;flex:1}.BasicInfo__Milestone[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.125rem;color:#c4cdd5;letter-spacing:.5px}.BasicInfo__Profile[_ngcontent-%COMP%]{flex:1;padding:2rem 1rem 0}.BasicInfo__Profile[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.125rem;color:#c4cdd5;letter-spacing:.5px}.BasicInfo__Profile[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{font-size:1rem;margin-top:2rem}.BasicInfo__Profile[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:baseline;justify-content:space-between}.BasicInfo__Profile[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:not(:last-child){margin-bottom:1rem}.BasicInfo__Profile[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .BasicInfo__Profile[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1}@media screen and (max-width:1200px){.BasicInfo[_ngcontent-%COMP%]{padding:0 1rem}.BasicInfo__Avatar[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0 0 2rem}.BasicInfo__Avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;height:50%;border-width:1px}.BasicInfo__Avatar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:50%;height:100%;left:50%;visibility:visible;transform:translate(-50%)}.BasicInfo__Container[_ngcontent-%COMP%]{flex-direction:column-reverse;justify-content:flex-start}.BasicInfo__Milestone[_ngcontent-%COMP%]{padding:2rem 0;width:100%}.BasicInfo__Guide[_ngcontent-%COMP%]{flex-direction:column;font-size:.875rem}.BasicInfo__Guide[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{flex:2}.BasicInfo__Guide[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{flex:1;text-align:right}.BasicInfo__Profile[_ngcontent-%COMP%]{box-shadow:0 1px 1px 0 #2d315b;width:100%;padding:2rem 0}.BasicInfo__Profile[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{font-size:.875rem}.BasicInfo__Profile[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{justify-content:space-between}.BasicInfo__Profile[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin-right:0;flex:2}.BasicInfo__Profile[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{flex:1;text-align:right}}"]}),T),B=t("IzT6");function j(n,e){if(1&n&&(a.Tb(0,"div",2),a.Tb(1,"div",3),a.Tb(2,"app-layout-card",4),a.Rb(3,5),a.Tb(4,"div",6),a.Pb(5,"app-basic-info",7),a.Sb(),a.Qb(),a.Sb(),a.Sb(),a.Tb(6,"div",8),a.Tb(7,"app-layout-card",4),a.Rb(8,5),a.Tb(9,"div",9),a.Tb(10,"span"),a.Tb(11,"h1"),a.Pb(12,"em",10),a.xc(13," \u5b78\u7fd2\u72c0\u6cc1\u7e3d\u89bd"),a.Sb(),a.Sb(),a.Sb(),a.Qb(),a.Sb(),a.Sb(),a.Sb()),2&n){var t=e.ngIf;a.Cb(5),a.jc("user",t)}}function E(n,e){if(1&n){var t=a.Ub();a.Tb(0,"app-message-popup",11),a.bc("onclose",(function(){return a.sc(t),a.dc().$overlay.hidePopup()})),a.xc(1),a.ec(2,"translate"),a.Sb()}if(2&n){var i=e.ngIf;a.jc("time",2),a.Cb(1),a.zc(" ",a.fc(2,2,i.options.message),"\n")}}var N,z,F,A=[{path:"profile",component:(N=function(){function n(e,t){_classCallCheck(this,n),this.$user=e,this.$overlay=t}return _createClass(n,[{key:"ngOnInit",value:function(){}}]),n}(),N.\u0275fac=function(n){return new(n||N)(a.Ob(s.a),a.Ob(l.a))},N.\u0275cmp=a.Ib({type:N,selectors:[["app-profile"]],decls:4,vars:6,consts:[["class","Profile",4,"ngIf"],[3,"time","onclose",4,"ngIf"],[1,"Profile"],[1,"col-12","col-md-6","mb-4","mb-md-0"],["hideHead",""],["body",""],[1,"Profile__Basic"],[3,"user"],[1,"col-12","col-md-6"],[1,"Profile__Dashboard"],[1,"icon-portfolio"],[3,"time","onclose"]],template:function(n,e){1&n&&(a.vc(0,j,14,1,"div",0),a.ec(1,"async"),a.vc(2,E,3,4,"app-message-popup",1),a.ec(3,"async")),2&n&&(a.jc("ngIf",a.fc(1,2,e.$user.user$)),a.Cb(2),a.jc("ngIf",a.fc(3,4,e.$overlay.popup$)))},directives:[o.k,f.a,k,B.a],pipes:[o.b,y.c],styles:[".Profile[_ngcontent-%COMP%]{display:flex;flex-direction:row}.Profile__Basic[_ngcontent-%COMP%], .Profile__Dashboard[_ngcontent-%COMP%]{height:calc(100vh - 10rem);overflow:auto}.Profile__Basic[_ngcontent-%COMP%]::-webkit-scrollbar, .Profile__Dashboard[_ngcontent-%COMP%]::-webkit-scrollbar{width:.375rem;height:.375rem}.Profile__Basic[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .Profile__Dashboard[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#dfe3e8;border-radius:10px}.Profile__Dashboard[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:flex;border-bottom:.5px solid #2d315b;padding:0 1rem 1rem;box-shadow:0 1px 1px 0 #2d315b}.Profile__Dashboard[_ngcontent-%COMP%] > span[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{display:flex;align-items:baseline;font-size:1.125rem;color:#fff;letter-spacing:.125rem}.Profile__Dashboard[_ngcontent-%COMP%] > span[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{cursor:auto;font-size:1rem;margin-right:.5rem}@media screen and (max-width:767px){.Profile[_ngcontent-%COMP%]{flex-direction:column}}"]}),N)},{path:"**",component:c.a}],R=((z=function n(){_classCallCheck(this,n)}).\u0275mod=a.Mb({type:z}),z.\u0275inj=a.Lb({factory:function(n){return new(n||z)},imports:[[r.c.forChild(A)],r.c]}),z),$=t("FpXt"),U=((F=function n(){_classCallCheck(this,n)}).\u0275mod=a.Mb({type:F}),F.\u0275inj=a.Lb({factory:function(n){return new(n||F)},imports:[[o.c,R,$.a]]}),F)}}]);