(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"9N29K":function(n,t,e){"use strict";e.r(t),e.d(t,"UserModule",(function(){return y}));var i=e("ofXK"),o=e("nF0/"),c=e("tyNb"),s=e("fXoL"),a=e("x4NB"),r=e("KMGt"),l=e("a/YC"),d=e("3Pt+");let f=(()=>{class n{constructor(){}writeValue(n){this.model=n}registerOnChange(n){this.onChange=n}registerOnTouched(){}setDisabledState(n){}notifyValueChange(){this.onChange&&this.onChange(this.model)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Kb({token:n,factory:n.\u0275fac}),n})();function g(n,t){if(1&n&&(s.Rb(0),s.Tb(1,"p"),s.xc(2),s.Sb(),s.Qb()),2&n){const n=s.dc();s.Cb(2),s.yc(n.model)}}function b(n,t){if(1&n){const n=s.Ub();s.Tb(0,"input",2),s.bc("ngModelChange",(function(t){return s.sc(n),s.dc().validation(t)}))("ngModelChange",(function(t){return s.sc(n),s.dc().value=t})),s.Sb()}if(2&n){const n=s.dc();s.jc("ngModel",n.value)}}function u(n,t){1&n&&(s.Tb(0,"span"),s.Pb(1,"em",3),s.Tb(2,"p",4),s.xc(3,"\u6b64\u6b04\u4f4d\u4e0d\u5f97\u70ba\u7a7a"),s.Sb(),s.Sb())}let p=(()=>{class n extends f{constructor(){super(),this.isEdit=!1,this.valid=!0}get value(){return this.model}set value(n){this.valid&&(this.model=n,this.notifyValueChange())}ngOnInit(){}ngOnChanges(n){!1===n.isEdit.currentValue&&(this.valid=!0)}validation(n){this.validator&&(this.valid=this.validator(n))}}var t;return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Ib({type:n,selectors:[["app-profile-field"]],inputs:{isEdit:"isEdit",validator:"validator"},features:[s.Bb([(t=n,{provide:d.f,useExisting:Object(s.U)(()=>t),multi:!0})]),s.zb,s.Ab],decls:3,vars:3,consts:[[4,"ngIf"],["type","text",3,"ngModel","ngModelChange",4,"ngIf"],["type","text",3,"ngModel","ngModelChange"],[1,"g5-font-rose-xs","icon-alert_2","mr-1"],[1,"g5-font-rose-xs"]],template:function(n,t){1&n&&(s.vc(0,g,3,1,"ng-container",0),s.vc(1,b,1,1,"input",1),s.vc(2,u,4,0,"span",0)),2&n&&(s.jc("ngIf",!t.isEdit),s.Cb(1),s.jc("ngIf",t.isEdit),s.Cb(1),s.jc("ngIf",!t.valid&&t.isEdit))},directives:[i.k,d.a,d.g,d.i],styles:["input[_ngcontent-%COMP%]{width:80%;height:100%;padding:0 .5rem}p[_ngcontent-%COMP%]{word-break:break-all;max-width:100%;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical}span[_ngcontent-%COMP%]{padding:.5rem 0;display:flex;flex-direction:row;align-items:center}span[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{cursor:auto}"]}),n})();var _=e("sYmb");function v(n,t){1&n&&(s.Tb(0,"span"),s.Pb(1,"em",10),s.Sb())}function h(n,t){if(1&n){const n=s.Ub();s.Tb(0,"em",11),s.bc("click",(function(){return s.sc(n),s.dc(2).isEdit=!0})),s.Sb()}}function C(n,t){if(1&n){const n=s.Ub();s.Tb(0,"em",12),s.bc("click",(function(){return s.sc(n),s.dc(2).submit()})),s.Sb()}}function m(n,t){if(1&n){const n=s.Ub();s.Tb(0,"div",1),s.Tb(1,"ul"),s.Tb(2,"li",2),s.Tb(3,"span",3),s.Pb(4,"img",4),s.vc(5,v,2,0,"span",5),s.Sb(),s.Tb(6,"div"),s.Tb(7,"div",6),s.Tb(8,"p"),s.xc(9),s.ec(10,"translate"),s.Sb(),s.Tb(11,"span"),s.Tb(12,"app-profile-field",7),s.bc("ngModelChange",(function(t){return s.sc(n),s.dc().modifyField("nickName",t)}))("ngModelChange",(function(t){return s.sc(n),s.dc().fields.nickName=t})),s.Sb(),s.Sb(),s.Sb(),s.Tb(13,"div"),s.Tb(14,"p"),s.xc(15),s.ec(16,"translate"),s.Sb(),s.Tb(17,"span"),s.xc(18),s.ec(19,"translate"),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Pb(20,"li"),s.Sb(),s.vc(21,h,1,0,"em",8),s.vc(22,C,1,0,"ng-template",null,9,s.wc),s.Sb()}if(2&n){const n=s.qc(23),t=s.dc();s.Cb(4),s.kc("alt",t.user.profile.photo),s.jc("src",t.user.profile.photo||"assets/images/logo.png",s.tc),s.Cb(1),s.jc("ngIf",t.isEdit),s.Cb(4),s.yc(s.fc(10,11,"Pages.Profile.NickName.Field")),s.Cb(3),s.jc("validator",t.validator)("isEdit",t.isEdit)("ngModel",t.fields.nickName),s.Cb(3),s.yc(s.fc(16,13,"Pages.Profile.Identity.Field")),s.Cb(3),s.yc(s.fc(19,15,"Pages.Profile.Identity."+t.user.profile.identity)),s.Cb(3),s.jc("ngIf",!t.isEdit)("ngIfElse",n)}}let P=(()=>{class n{constructor(n){this.$fb=n,this.isEdit=!1}ngOnInit(){}ngOnChanges(n){n.user.currentValue&&(this.fields=Object.assign({},n.user.currentValue.profile))}validator(n){return n.length>0}modifyField(n,t){this.fields[n]=t}submit(){this.isEdit=!1,this.$fb.collection("users").update(this.user.profile.uid,this.fields)}}return n.\u0275fac=function(t){return new(t||n)(s.Ob(l.a))},n.\u0275cmp=s.Ib({type:n,selectors:[["app-basic-info"]],inputs:{user:"user"},features:[s.Ab],decls:1,vars:1,consts:[["class","BasicInfo",4,"ngIf"],[1,"BasicInfo"],[1,"BasicInfo__Guide"],[1,"BasicInfo__Avatar"],[3,"src","alt"],[4,"ngIf"],[1,"mb-4"],[3,"validator","isEdit","ngModel","ngModelChange"],["class","icon-edit",3,"click",4,"ngIf","ngIfElse"],["tSave",""],[1,"icon-add-2"],[1,"icon-edit",3,"click"],[1,"icon-done",3,"click"]],template:function(n,t){1&n&&s.vc(0,m,24,17,"div",0),2&n&&s.jc("ngIf",t.user)},directives:[i.k,p,d.g,d.i],pipes:[_.c],styles:[".BasicInfo[_ngcontent-%COMP%]{height:100%;position:relative;font-size:1rem}.BasicInfo[_ngcontent-%COMP%] > em[_ngcontent-%COMP%]{font-size:1.125rem;border:1px solid #fff;border-radius:100%;padding:.5rem;position:absolute;z-index:2;bottom:0;right:.5rem}.BasicInfo[_ngcontent-%COMP%] > em[_ngcontent-%COMP%]:hover{color:#e79a1a;border-color:#e79a1a;transition:.1s}.BasicInfo__Guide[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.BasicInfo__Guide[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%}.BasicInfo__Guide[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:baseline}.BasicInfo__Guide[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{flex:3}.BasicInfo__Guide[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{flex:7}.BasicInfo__Avatar[_ngcontent-%COMP%]{position:relative;margin:0 3rem 0 1rem}.BasicInfo__Avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:8rem;height:8rem;border-radius:100%;padding:1.5px;border:3px solid #fff;box-shadow:0 0 3px 1px #fff;opacity:.9}.BasicInfo__Avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover + span[_ngcontent-%COMP%]{visibility:visible}.BasicInfo__Avatar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{cursor:pointer;width:8rem;height:8rem;position:absolute;top:0;left:0;border:none;border-radius:100%;display:flex;justify-content:center;align-items:center;visibility:hidden;background-color:rgba(0,0,0,.6)}.BasicInfo__Avatar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-size:1.875rem}.BasicInfo__Avatar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:hover{visibility:visible}@media screen and (max-width:1200px){.BasicInfo[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0 1rem}.BasicInfo__Avatar[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0 0 2rem}.BasicInfo__Avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;height:50%;border-width:1px}.BasicInfo__Avatar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:50%;height:100%;left:50%;visibility:visible;transform:translate(-50%)}.BasicInfo__Guide[_ngcontent-%COMP%]{flex-direction:column;font-size:.875rem}.BasicInfo__Guide[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{flex:1}.BasicInfo__Guide[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{flex:1;text-align:right}}"]}),n})();function M(n,t){if(1&n&&(s.Tb(0,"div",1),s.Tb(1,"div",2),s.Tb(2,"app-layout-card",3),s.Rb(3,4),s.Tb(4,"div",5),s.Pb(5,"app-basic-info",6),s.Sb(),s.Qb(),s.Sb(),s.Sb(),s.Tb(6,"div",7),s.Tb(7,"app-layout-card"),s.Rb(8,4),s.xc(9," 2 "),s.Qb(),s.Sb(),s.Sb(),s.Sb()),2&n){const n=t.ngIf;s.Cb(5),s.jc("user",n)}}const O=[{path:"profile",component:(()=>{class n{constructor(n){this.$user=n}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(s.Ob(a.a))},n.\u0275cmp=s.Ib({type:n,selectors:[["app-profile"]],decls:2,vars:3,consts:[["class","Profile",4,"ngIf"],[1,"Profile"],[1,"col-12","col-md-6","mb-4","mb-md-0"],["hideHead",""],["body",""],[1,"Profile__Basic"],[3,"user"],[1,"col-12","col-md-6"]],template:function(n,t){1&n&&(s.vc(0,M,10,1,"div",0),s.ec(1,"async")),2&n&&s.jc("ngIf",s.fc(1,1,t.$user.user$))},directives:[i.k,r.a,P],pipes:[i.b],styles:[".Profile[_ngcontent-%COMP%]{display:flex;flex-direction:row}.Profile__Basic[_ngcontent-%COMP%]{height:calc(100vh - 10rem);overflow:auto}.Profile__Basic[_ngcontent-%COMP%]::-webkit-scrollbar{width:.375rem;height:.375rem}.Profile__Basic[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#dfe3e8;border-radius:10px}@media screen and (max-width:767px){.Profile[_ngcontent-%COMP%]{flex-direction:column}}"]}),n})()},{path:"**",component:o.a}];let I=(()=>{class n{}return n.\u0275mod=s.Mb({type:n}),n.\u0275inj=s.Lb({factory:function(t){return new(t||n)},imports:[[c.c.forChild(O)],c.c]}),n})();var x=e("FpXt");let y=(()=>{class n{}return n.\u0275mod=s.Mb({type:n}),n.\u0275inj=s.Lb({factory:function(t){return new(t||n)},imports:[[i.c,I,x.a]]}),n})()}}]);