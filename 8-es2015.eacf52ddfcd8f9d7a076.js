(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"9N29K":function(n,t,e){"use strict";e.r(t),e.d(t,"UserModule",(function(){return x}));var i=e("ofXK"),c=e("nF0/"),o=e("tyNb"),s=e("fXoL"),a=e("x4NB"),r=e("KMGt"),d=e("a/YC"),l=e("3Pt+");let f=(()=>{class n{constructor(){}writeValue(n){this.model=n}registerOnChange(n){this.onChange=n}registerOnTouched(){}setDisabledState(n){}notifyValueChange(){this.onChange&&this.onChange(this.model)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Ib({token:n,factory:n.\u0275fac}),n})();function g(n,t){if(1&n&&(s.Pb(0),s.vc(1),s.Ob()),2&n){const n=s.bc();s.Ab(1),s.xc(" ",n.model,"\n")}}function b(n,t){if(1&n){const n=s.Sb();s.Rb(0,"input",2),s.Zb("ngModelChange",(function(t){return s.qc(n),s.bc().validation(t)}))("ngModelChange",(function(t){return s.qc(n),s.bc().value=t})),s.Qb()}if(2&n){const n=s.bc();s.hc("ngModel",n.value)}}function u(n,t){1&n&&(s.Rb(0,"span"),s.Nb(1,"em",3),s.Rb(2,"p",4),s.vc(3,"\u6b64\u6b04\u4f4d\u4e0d\u5f97\u70ba\u7a7a"),s.Qb(),s.Qb())}let p=(()=>{class n extends f{constructor(){super(),this.isEdit=!1,this.valid=!0}get value(){return this.model}set value(n){this.valid&&(this.model=n,this.notifyValueChange())}ngOnInit(){}ngOnChanges(n){!1===n.isEdit.currentValue&&(this.valid=!0)}validation(n){this.validator&&(this.valid=this.validator(n))}}var t;return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Gb({type:n,selectors:[["app-profile-field"]],inputs:{isEdit:"isEdit",validator:"validator"},features:[s.zb([(t=n,{provide:l.c,useExisting:Object(s.T)(()=>t),multi:!0})]),s.xb,s.yb],decls:3,vars:3,consts:[[4,"ngIf"],["type","text",3,"ngModel","ngModelChange",4,"ngIf"],["type","text",3,"ngModel","ngModelChange"],[1,"g5-font-rose-xs","icon-alert_2","mr-1"],[1,"g5-font-rose-xs"]],template:function(n,t){1&n&&(s.tc(0,g,2,1,"ng-container",0),s.tc(1,b,1,1,"input",1),s.tc(2,u,4,0,"span",0)),2&n&&(s.hc("ngIf",!t.isEdit),s.Ab(1),s.hc("ngIf",t.isEdit),s.Ab(1),s.hc("ngIf",!t.valid&&t.isEdit))},directives:[i.k,l.a,l.d,l.e],styles:["input[_ngcontent-%COMP%]{width:80%;height:100%;padding:0 .5rem}span[_ngcontent-%COMP%]{padding:.5rem 0;display:flex;flex-direction:row;align-items:center}span[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{cursor:auto}"]}),n})();var _=e("sYmb");function h(n,t){1&n&&(s.Rb(0,"span"),s.Nb(1,"em",10),s.Qb())}function v(n,t){if(1&n){const n=s.Sb();s.Rb(0,"em",11),s.Zb("click",(function(){return s.qc(n),s.bc(2).isEdit=!0})),s.Qb()}}function m(n,t){if(1&n){const n=s.Sb();s.Rb(0,"em",12),s.Zb("click",(function(){return s.qc(n),s.bc(2).submit()})),s.Qb()}}function P(n,t){if(1&n){const n=s.Sb();s.Rb(0,"div",1),s.Rb(1,"ul"),s.Rb(2,"li",2),s.Rb(3,"span",3),s.Nb(4,"img",4),s.tc(5,h,2,0,"span",5),s.Qb(),s.Rb(6,"div"),s.Rb(7,"div",6),s.Rb(8,"p"),s.vc(9),s.cc(10,"translate"),s.Qb(),s.Rb(11,"span"),s.Rb(12,"app-profile-field",7),s.Zb("ngModelChange",(function(t){return s.qc(n),s.bc().modifyField("nickName",t)}))("ngModelChange",(function(t){return s.qc(n),s.bc().fields.nickName=t})),s.Qb(),s.Qb(),s.Qb(),s.Rb(13,"div"),s.Rb(14,"p"),s.vc(15),s.cc(16,"translate"),s.Qb(),s.Rb(17,"span"),s.vc(18),s.cc(19,"translate"),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Nb(20,"li"),s.Qb(),s.tc(21,v,1,0,"em",8),s.tc(22,m,1,0,"ng-template",null,9,s.uc),s.Qb()}if(2&n){const n=s.oc(23),t=s.bc();s.Ab(4),s.ic("alt",t.user.photo),s.hc("src",t.user.photo,s.rc),s.Ab(1),s.hc("ngIf",t.isEdit),s.Ab(4),s.wc(s.dc(10,11,"Pages.Profile.NickName.Field")),s.Ab(3),s.hc("validator",t.validator)("isEdit",t.isEdit)("ngModel",t.fields.nickName),s.Ab(3),s.wc(s.dc(16,13,"Pages.Profile.Identity.Field")),s.Ab(3),s.wc(s.dc(19,15,"Pages.Profile.Identity."+t.user.identity)),s.Ab(3),s.hc("ngIf",!t.isEdit)("ngIfElse",n)}}let C=(()=>{class n{constructor(n){this.$fb=n,this.isEdit=!1}ngOnInit(){}ngOnChanges(n){n.user.currentValue&&(this.fields=Object.assign({},n.user.currentValue))}validator(n){return n.length>0}modifyField(n,t){this.fields[n]=t}submit(){this.isEdit=!1,this.$fb.collection("users").update(this.user.id,this.fields)}}return n.\u0275fac=function(t){return new(t||n)(s.Mb(d.a))},n.\u0275cmp=s.Gb({type:n,selectors:[["app-basic-info"]],inputs:{user:"user"},features:[s.yb],decls:1,vars:1,consts:[["class","BasicInfo",4,"ngIf"],[1,"BasicInfo"],[1,"BasicInfo__Guide"],[1,"BasicInfo__Avatar"],[3,"src","alt"],[4,"ngIf"],[1,"mb-4"],[3,"validator","isEdit","ngModel","ngModelChange"],["class","icon-edit",3,"click",4,"ngIf","ngIfElse"],["tSave",""],[1,"icon-add-2"],[1,"icon-edit",3,"click"],[1,"icon-done",3,"click"]],template:function(n,t){1&n&&s.tc(0,P,24,17,"div",0),2&n&&s.hc("ngIf",t.user)},directives:[i.k,p,l.d,l.e],pipes:[_.c],styles:[".BasicInfo[_ngcontent-%COMP%]{height:100%;position:relative;font-size:1rem}.BasicInfo[_ngcontent-%COMP%] > em[_ngcontent-%COMP%]{font-size:1.125rem;border:1px solid #fff;border-radius:100%;padding:.5rem;position:absolute;z-index:2;bottom:0;right:.5rem}.BasicInfo[_ngcontent-%COMP%] > em[_ngcontent-%COMP%]:hover{color:#e79a1a;border-color:#e79a1a;transition:.1s}.BasicInfo__Guide[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.BasicInfo__Guide[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%}.BasicInfo__Guide[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:baseline}.BasicInfo__Guide[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{flex:3}.BasicInfo__Guide[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{flex:7}.BasicInfo__Avatar[_ngcontent-%COMP%]{position:relative;margin:0 3rem 0 1rem}.BasicInfo__Avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:8rem;height:8rem;border-radius:100%;padding:1.5px;border:3px solid #fff;box-shadow:0 0 3px 1px #fff;opacity:.9}.BasicInfo__Avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover + span[_ngcontent-%COMP%]{visibility:visible}.BasicInfo__Avatar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{cursor:pointer;width:8rem;height:8rem;position:absolute;top:0;left:0;border:none;border-radius:100%;display:flex;justify-content:center;align-items:center;visibility:hidden;background-color:rgba(0,0,0,.6)}.BasicInfo__Avatar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-size:1.875rem}.BasicInfo__Avatar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:hover{visibility:visible}@media screen and (max-width:1200px){.BasicInfo[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0 1rem}.BasicInfo__Avatar[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0 0 2rem}.BasicInfo__Avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;height:50%;border-width:1px}.BasicInfo__Avatar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:50%;height:100%;left:50%;visibility:visible;transform:translate(-50%)}.BasicInfo__Guide[_ngcontent-%COMP%]{flex-direction:column;font-size:.875rem}.BasicInfo__Guide[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{flex:1}.BasicInfo__Guide[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{flex:1;text-align:right}}"]}),n})();function M(n,t){if(1&n&&(s.Rb(0,"div",1),s.Rb(1,"div",2),s.Rb(2,"app-layout-card",3),s.Pb(3,4),s.Rb(4,"div",5),s.Nb(5,"app-basic-info",6),s.Qb(),s.Ob(),s.Qb(),s.Qb(),s.Rb(6,"div",7),s.Rb(7,"app-layout-card"),s.Pb(8,4),s.vc(9," 2 "),s.Ob(),s.Qb(),s.Qb(),s.Qb()),2&n){const n=t.ngIf;s.Ab(5),s.hc("user",n)}}const O=[{path:"profile",component:(()=>{class n{constructor(n){this.$user=n}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(s.Mb(a.a))},n.\u0275cmp=s.Gb({type:n,selectors:[["app-profile"]],decls:2,vars:3,consts:[["class","Profile",4,"ngIf"],[1,"Profile"],[1,"col-12","col-md-6","mb-4","mb-md-0"],["hideHead",""],["body",""],[1,"Profile__Basic"],[3,"user"],[1,"col-12","col-md-6"]],template:function(n,t){1&n&&(s.tc(0,M,10,1,"div",0),s.cc(1,"async")),2&n&&s.hc("ngIf",s.dc(1,1,t.$user.user$))},directives:[i.k,r.a,C],pipes:[i.b],styles:[".Profile[_ngcontent-%COMP%]{display:flex;flex-direction:row}.Profile__Basic[_ngcontent-%COMP%]{height:calc(100vh - 10rem);overflow:auto}.Profile__Basic[_ngcontent-%COMP%]::-webkit-scrollbar{width:.375rem;height:.375rem}.Profile__Basic[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#dfe3e8;border-radius:10px}@media screen and (max-width:767px){.Profile[_ngcontent-%COMP%]{flex-direction:column}}"]}),n})()},{path:"**",component:c.a}];let I=(()=>{class n{}return n.\u0275mod=s.Kb({type:n}),n.\u0275inj=s.Jb({factory:function(t){return new(t||n)},imports:[[o.c.forChild(O)],o.c]}),n})();var y=e("FpXt");let x=(()=>{class n{}return n.\u0275mod=s.Kb({type:n}),n.\u0275inj=s.Jb({factory:function(t){return new(t||n)},imports:[[i.c,I,y.a]]}),n})()}}]);